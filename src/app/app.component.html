<!-- ================= HOME / PORTFOLIO ================= -->
<div *ngIf="isHomePage; else otherPages" class="portfolio-wrapper">

  <!-- NAVIGATION -->
  <nav class="portfolio-nav" [class.scrolled]="isScrolled">
    <div class="nav-container">
      <button mat-button class="nav-button" (click)="scrollToSection('profile')">
        <mat-icon>person</mat-icon>
        <span>Profile</span>
      </button>

      <button mat-button class="nav-button" (click)="scrollToSection('projects')">
        <mat-icon>rocket_launch</mat-icon>
        <span>Projects</span>
      </button>

      <button mat-button class="nav-button" (click)="scrollToSection('cv')">
        <mat-icon>description</mat-icon>
        <span>CV</span>
      </button>

      <button mat-button class="nav-button" (click)="scrollToSection('contact')">
        <mat-icon>mail</mat-icon>
        <span>Contact</span>
      </button>
    </div>

    <!-- ACTIONS UTILISATEUR -->
    <div class="user-actions">
      <ng-container *ngIf="currentUser; else loginButton">
        <button
          mat-button
          class="nav-button"
          *ngIf="currentUser.role === 'ADMIN'"
          (click)="goToAdmin()">
          <mat-icon>admin_panel_settings</mat-icon>
          <span>Admin</span>
        </button>

        <button mat-button class="nav-button" (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </ng-container>

      <ng-template #loginButton>
        <button mat-button class="nav-button" routerLink="/login">
          <mat-icon>login</mat-icon>
          <span>Login</span>
        </button>
      </ng-template>
    </div>
  </nav>

  <!-- HERO -->
  <div class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Welcome to My Portfolio</h1>
      <p class="hero-subtitle">
        Full Stack Engineer · Modern Web Applications · Clean Architecture
      </p>
    </div>
  </div>

  <!-- CONTENU PRINCIPAL -->
  <div class="container">

    <!-- SECTION PROFILE -->
    <mat-card id="profile" class="section-card" appearance="outlined">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>person</mat-icon>
          Profile
        </mat-card-title>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <app-profile-list></app-profile-list>
      </mat-card-content>
    </mat-card>

    <!-- SECTION PROJECTS -->
    <mat-card id="projects" class="section-card" appearance="outlined">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>rocket_launch</mat-icon>
          Projects
        </mat-card-title>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <app-project-list></app-project-list>
      </mat-card-content>
    </mat-card>

    <!-- SECTION CV -->
    <mat-card id="cv" class="section-card" appearance="outlined">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>description</mat-icon>
          CV
        </mat-card-title>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <app-cv-list></app-cv-list>
      </mat-card-content>
    </mat-card>

    <!-- SECTION CONTACT -->
    <mat-card id="contact" class="section-card" appearance="outlined">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>mail</mat-icon>
          Contact Me
        </mat-card-title>
      </mat-card-header>
      <mat-divider></mat-divider>
      <mat-card-content>
        <app-contact-create></app-contact-create>
      </mat-card-content>
    </mat-card>

  </div>

  <!-- FOOTER -->
  <footer class="portfolio-footer">
    <div class="footer-container">
      <div class="footer-content">
        <!-- Informations de contact -->
        <div class="footer-section contact-info">
          <h3 class="footer-title">Amal Klouz</h3>
          <p class="footer-subtitle">Full Stack Engineer</p>
          
          <div class="contact-details">
            <div class="contact-item">
              <mat-icon>phone</mat-icon>
              <a href="tel:+21627555303" class="contact-link">+216 27 555 303</a>
            </div>
            
           <div class="contact-item">
  <mat-icon>email</mat-icon>
  <a href="mailto:amal.klouz&#64;esprit.tn" class="contact-link">amal.klouz&#64;esprit.tn</a>
</div>
            
            <div class="contact-item">
              <mat-icon>location_on</mat-icon>
              <span class="contact-text">Bizerte, Tunisie</span>
            </div>
          </div>
        </div>

        <!-- Liens sociaux -->
        <div class="footer-section social-links">
          <h3 class="footer-title">Connect with me</h3>
          
          <div class="social-icons">
            <a href="https://tn.linkedin.com/in/amal-klouz-989674283?trk=people-guest_people_search-card" 
               target="_blank" 
               class="social-link linkedin"
               matTooltip="LinkedIn Profile">
              <mat-icon>linkedin</mat-icon>
              <span>LinkedIn</span>
            </a>
            
            <a href="https://github.com/amalklouz" 
               target="_blank" 
               class="social-link github"
               matTooltip="GitHub Profile">
              <mat-icon>code</mat-icon>
              <span>GitHub</span>
            </a>
            
            <a href="mailto:amal.klouz@esprit.tn" 
               class="social-link email"
               matTooltip="Send Email">
              <mat-icon>email</mat-icon>
              <span>Email</span>
            </a>
          </div>
        </div>

        <!-- Navigation rapide -->
        <div class="footer-section quick-links">
          <h3 class="footer-title">Quick Links</h3>
          
          <div class="quick-nav">
            <button mat-button (click)="scrollToSection('profile')">Profile</button>
            <button mat-button (click)="scrollToSection('projects')">Projects</button>
            <button mat-button (click)="scrollToSection('cv')">CV</button>
            <button mat-button (click)="scrollToSection('contact')">Contact</button>
          </div>
        </div>
      </div>
  <app-chatbot></app-chatbot>


      <!-- CHATBOT (dans le footer si vous le souhaitez) -->
      <!-- <app-chatbot></app-chatbot> -->

    </div>

    <!-- COPYRIGHT -->
    <div class="footer-bottom">
      <div class="copyright">
        <mat-icon>copyright</mat-icon>
        <span>2025 Amal Klouz. All rights reserved.</span>
      </div>
      <div class="made-with">
        <span>Made with</span>
        <mat-icon class="heart-icon">favorite</mat-icon>
        <span>using Angular & Material</span>
      </div>
    </div>
  </footer>

  <!-- CHATBOT (en dehors du footer, position fixe) -->
  <app-chatbot></app-chatbot>

</div>

<!-- ================= AUTRES PAGES (LOGIN, DASHBOARD, ETC.) ================= -->
<ng-template #otherPages>
  <router-outlet></router-outlet>
</ng-template>